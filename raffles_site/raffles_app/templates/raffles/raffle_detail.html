{% extends "base.html" %}
{% load static %}

{% block content %}
<section class="raffle-detail container">
  <h1 class="raffle-detail-title">
    {{ raffle.motorcycle.brand }} {{ raffle.motorcycle.model }} ({{ raffle.motorcycle.year }})
  </h1>

  <div class="raffle-detail-layout">
    <!-- Carousel -->
   <div class="raffle-carousel" aria-roledescription="carousel">
  <div class="raffle-carousel-track">
    {% for img in images %}
      <div class="raffle-carousel-slide">
        <img src="{{ img.image.url }}" alt="Imagen {{ forloop.counter }}">
      </div>
    {% endfor %}
  </div>

  {# sÃ³lo mostramos controles si hay mÃ¡s de 1 imagen #}
  {% if images|length > 1 %}
   <button type="button" class="raffle-carousel-prev raffle-carousel-btn prev" aria-label="Anterior">â€¹</button>
<button type="button" class="raffle-carousel-next raffle-carousel-btn next" aria-label="Siguiente">â€º</button>

  {% endif %}
</div>


    <!-- Info -->
    <div class="raffle-info">
      <p class="raffle-info-item"><span>ğŸ’° Precio boleta:</span> ${{ raffle.ticket_price }}</p>
      <p class="raffle-info-item"><span>ğŸ« Disponibles:</span> {{ raffle.available_tickets }}</p>
      <p class="raffle-info-item"><span>ğŸ› Kilometraje:</span> {{ raffle.motorcycle.mileage|default:"0 km" }}</p>
      <p class="raffle-info-item"><span>âš¡ Estado:</span> {{ raffle.motorcycle.condition|default:"Nuevo" }}</p>
      <p class="raffle-info-item"><span>ğŸ“… Inicio:</span> {{ raffle.start_date|date:"d M Y" }}</p>
      <p class="raffle-info-item"><span>ğŸ† Sorteo:</span> {{ raffle.draw_date|date:"d M Y" }}</p>

      {% if raffle.description %}
      <p class="raffle-description">{{ raffle.description }}</p>
      {% endif %}
<a href="{% url 'ticket' raffle.id %}" class="raffle-btn">ğŸŸï¸ Comprar Ticket</a>

    </div>
  </div>
</section>
{% endblock %}
